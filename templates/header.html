<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">

<!-- header.html -->
<div class="header">
    <!-- زر ☰ للجوال -->
    <button class="menu-toggle" onclick="toggleSidebar()">☰</button>

    <!-- user menu -->
    <div class="user-menu">
        <span class="user-info">
            <!-- أيقونة المستخدم -->
            <svg class="user-icon" viewBox="0 0 24 24">
                <path d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.3 0-10 1.7-10 5v3h20v-3c0-3.3-6.7-5-10-5z"></path>
            </svg>

            {{ request.user.username }}

            <svg class="arrow-icon" viewBox="0 0 24 24">
                <path d="M7 10l5 5 5-5z"></path>
            </svg>
        </span>

<div class="dropdown-menu">
    <a href="{% url 'profile' %}">حسابي</a>
    <a href="{% url 'logout' %}" class="logout">تسجيل الخروج</a>
</div>

    </div>
</div>

<style>
    .header {
        background: linear-gradient(90deg, #2F4157 0%, #577C8E 100%);
        color: #FFFFFF;
        height: 50px;
        padding: 8px 15px;
        font-size: 1rem;
        font-weight: bold;
        position: fixed;
        top: 0;
        right: 0;
        left: 0;
        z-index: 1000;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        direction: rtl;
        font-family: 'Tajawal', sans-serif; /* أضفنا الخط */
    }

    .menu-toggle {
        display: none;
        background: none;
        border: none;
        color: #FFFFFF;
        font-size: 1.6rem;
        cursor: pointer;
    }

    @media (max-width: 768px) {
        .menu-toggle {
            display: block;
        }
    }

    .user-menu {
        position: relative;
        cursor: pointer;
        margin-right: 10px;
    }

    .user-info {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        flex-direction: row;
        transition: transform 0.2s ease;
    }

    .user-info:hover {
        transform: scale(1.05);
    }

    .user-icon {
        width: 24px;
        height: 24px;
        fill: #FFFFFF;
    }

    .arrow-icon {
        width: 14px;
        height: 14px;
        fill: #FFFFFF;
    }

    .dropdown-menu {
        position: absolute;
        top: 45px;
        right: 0;
        background: linear-gradient(180deg, #FFFFFF 0%, #F4EFEB 100%);
        color: #2F4157;
        border: 1px solid #ddd;
        border-radius: 6px;
        min-width: 150px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        display: none;
    }

    .dropdown-menu a {
        display: block;
        padding: 10px 14px;
        text-decoration: none;
        color: #2F4157;
        border-bottom: 1px solid #eee;
        transition: background-color 0.2s;
    }

    .dropdown-menu a:hover {
        background-color: #C7D9E5;
    }

    .dropdown-menu .logout {
        color: red;
    }

.user-menu:hover .dropdown-menu,
.dropdown-menu:hover {
    display: block;
}

</style>

<script>
    function toggleSidebar() {
        const sidebar = document.querySelector('.sidebar');
        sidebar.classList.toggle('open');
    }
</script>
