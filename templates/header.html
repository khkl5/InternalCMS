<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">

<!-- header.html -->
<!-- header.html -->
<div class="header">
  <!-- يمين: شعار النظام -->
  <div class="logo">
    <span class="logo-text">نظام الإدارة الداخلية</span>
  </div>

  <!-- يسار: منطقة المستخدم والإشعارات -->
  <div class="user-section">
    <div class="user-top-row">

      <!-- الدائرة -->
      <span class="avatar-circle">{{ request.user.first_name|first|upper }}</span>
<!-- اسم المستخدم -->
<!-- اسم المستخدم -->
<div class="user-dropdown">
  <div class="user-info">
    <span class="user-name">{{ request.user.get_full_name }}</span>
    <div class="user-role">{{ role }}</div>
  </div>
  <div class="dropdown-menu">
    <a href="{% url 'profile' %}">حسابي</a>
    <a href="{% url 'logout' %}">تسجيل الخروج</a>
  </div>
</div>

            <!-- 🔔 أيقونة الجرس -->
            <div class="notification-icon">
        <svg viewBox="0 0 24 24">
          <path d="M12 2C10.3 2 9 3.3 9 5v1.1C6.2 7.2 4.3 9.9 4 13v5l-1 1v1h18v-1l-1-1v-5c-.3-3.1-2.2-5.8-5-6.9V5c0-1.7-1.3-3-3-3zm0 20c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2z"/>
        </svg>
      </div>



    </div>
    <!-- الدور تحت السطر الأول -->
    
  </div>
</div>

<style>
.header {
  background: #f8fcff;
  color: #2F4157;
  height: 60px;
  padding: 0 20px;
  font-family: 'Tajawal', sans-serif;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  direction: rtl;
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1000;
}

.logo-text {
  font-size: 1rem;
  font-weight: 700;
}

.user-section {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 4px;
}

.user-top-row {
  display: flex;
  align-items: center;
  gap: 8px;
}

.notification-icon svg {
  width: 20px;
  height: 20px;
  fill: #2F4157;
  cursor: pointer;
}

.user-name {
  font-size: 1rem;
  font-weight: 700;
  margin: 0;               /* إزالة الهامش التلقائي */
  margin-bottom: 0rem;  /* مسافة تحت الاسم */
  color: #2F4157;
}


.avatar-circle {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #2EC6F3, #5DE6A9);
  color: #fff;
  font-size: 1rem;
  font-weight: bold;
}

/* الدور */
.user-info {
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* العناصر نفسها على اليمين */
  text-align: right;     /* والنصوص على اليمين */
}

.user-role {
  font-size: 0.85rem;
  margin: 0;
  margin-top: 0rem;
  text-align: right;
  color: #8c9aa9;
}
.user-dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-menu {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background-color: #ffffff;
  min-width: 150px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border-radius: 10px;
  padding: 8px 0;
  z-index: 999;
  text-align: right;
  margin-top: 4px;
}

.dropdown-menu a {
  display: block;
  padding: 10px 16px;
  text-decoration: none;
  color: #2F4157;
  font-size: 0.95rem;
  transition: background-color 0.2s;
}

.dropdown-menu a:hover {
  background-color: #f0f4f8;
  color: #000;
}

.user-dropdown:hover .dropdown-menu {
  display: block;
}

/* تعديل على user-info علشان يحافظ على التوسيط الصحيح */
.user-info {
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* بدل center */
  cursor: pointer;
}

</style>

<script>
function toggleSidebar() {
  const sidebar = document.querySelector('.sidebar');
  sidebar.classList.toggle('open');
}
</script>
