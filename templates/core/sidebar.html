<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <h2>نظام الإدارة الداخلية</h2>
    <button onclick="toggleSidebar()" id="toggle-btn">⬅️</button>
  </div>

  <nav>
    {% if role == "staff" %}
      <a href="{% url 'staff_dashboard' %}">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M3 13h8V3H3v10zm10 8h8v-6h-8v6zM3 21h8v-6H3v6zm10-8h8V3h-8v10z"/>
        </svg>
        <span class="label">لوحة الموظف</span>
      </a>
    {% elif role == "admin" %}
      <a href="{% url 'admin_dashboard' %}">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M3 13h8V3H3v10zm10 8h8v-6h-8v6zM3 21h8v-6H3v6zm10-8h8V3h-8v10z"/>
        </svg>
        <span class="label">لوحة المدير</span>
      </a>
    {% endif %}

    {% if role == "admin" %}
      <a href="{% url 'add_user' %}">

        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M12 5v14m-7-7h14"/>
        </svg>
        <span class="label">إضافة مستخدم</span>

      </a>

      <a href="{% url 'staff_list' %}">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5zm0 2c-4 0-8 2-8 4v2h16v-2c0-2-4-4-8-4z"/>
        </svg>
        <span class="label">قائمة الموظفين</span>
      </a>

      <a href="{% url 'add_task' %}">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M12 5v14m-7-7h14"/>
        </svg>
        <span class="label">إضافة مهمة</span>
      </a>
    {% endif %}

    <a href="{% url 'client_list' %}">
      <svg class="nav-icon" viewBox="0 0 24 24">
        <path d="M16 11a4 4 0 1 0-8 0 4 4 0 0 0 8 0zm-4 6c-4 0-8 2-8 4v1h16v-1c0-2-4-4-8-4z"/>
      </svg>
      <span class="label">العملاء</span>
    </a>

    <a href="{% url 'task_list' %}">
      <svg class="nav-icon" viewBox="0 0 24 24">
        <path d="M3 6h18M3 12h18M3 18h18"/>
      </svg>
      <span class="label">المهام</span>
    </a>

    {% if role == "admin" %}
      <a href="{% url 'reports' %}">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M3 3v18h18V3H3zm2 2h14v14H5V5z"/>
        </svg>
        <span class="label">التقارير</span>
      </a>
    {% endif %}

    <a href="{% url 'document_list' %}">
      <svg class="nav-icon" viewBox="0 0 24 24">
        <path d="M6 2h9l5 5v15H6z"/>
      </svg>
      <span class="label">المستندات</span>
    </a>

    <hr />

    <a href="{% url 'profile' %}">
      <svg class="nav-icon" viewBox="0 0 24 24">
        <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5zm0 2c-4 0-8 2-8 4v2h16v-2c0-2-4-4-8-4z"/>
      </svg>
      <span class="label">حسابي</span>
    </a>

    <a href="{% url 'logout' %}" class="logout">
      <svg class="nav-icon" viewBox="0 0 24 24">
        <path d="M16 17l5-5-5-5M21 12H9M13 3h-2a9 9 0 0 0 0 18h2"/>
      </svg>
      <span class="label">تسجيل الخروج</span>
    </a>
  </nav>
</aside>


<style>
/* 🟪 السايدبار */
.sidebar {
  position: fixed;
  top: 50px; /* يبدأ تحت الهيدر */
  right: 0;
  width: 250px;
  height: calc(100% - 50px); /* يتجاهل الهيدر */
  background: linear-gradient(to bottom, #1E2A38, #263B50);
  color: #fff;
  font-family: 'Tajawal', sans-serif;
  overflow-y: auto;
  transition: width 0.3s ease;
  z-index: 999; /* أقل من الهيدر */
  box-shadow: -2px 0 10px rgba(0,0,0,0.2);
}

.sidebar.collapsed {
  width: 80px;
}

/* عنوان السايدبار وزر الطي */
.sidebar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 18px 20px;
  color: #fff;
  font-size: 1rem;
  font-weight: bold;
}

#toggle-btn {
  background: none;
  border: none;
  color: #fff;
  font-size: 18px;
  cursor: pointer;
}

/* قائمة التنقل */
.sidebar nav {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 10px;
}

.sidebar nav a {
  display: flex;
  align-items: center;
  padding: 10px 12px;
  border-radius: 10px;
  text-decoration: none;
  color: #fff;
  transition: background 0.3s;
}

.sidebar nav a:hover,
.sidebar nav a.active {
  background: rgba(255,255,255,0.1);
}

/* الأيقونات: بدون خلفية، مجرد SVG */
.sidebar nav a svg {
  width: 22px;
  height: 22px;
  fill: #ffffff;
  flex-shrink: 0;
  margin-left: 10px;
}

/* النص بجانب الأيقونة */
.label {
  white-space: nowrap;
  font-size: 0.95rem;
}

.sidebar.collapsed .label {
  display: none;
}

/* فاصل داخلي */
hr {
  border: none;
  border-top: 1px solid rgba(255,255,255,0.2);
  margin: 12px 0;
}
</style>
<script>
  function toggleSidebar() {
    const sidebar = document.getElementById("sidebar");
    sidebar.classList.toggle("collapsed");
  }
</script>
